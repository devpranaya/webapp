{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/Not%20Program%20Files/Projects/devan/webapp/src/lib/personal-info.ts"],"sourcesContent":["export const PERSONAL_INFO = {\r\n  name: \"Devandro Pranaya Adenan\",\r\n  studentNumber: \"22586704\",\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,gBAAgB;IAC3B,MAAM;IACN,eAAe;AACjB","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/Not%20Program%20Files/Projects/devan/webapp/src/components/site-shell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { ReactNode, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport {PERSONAL_INFO } from \"@/lib/personal-info\";\r\n\r\nconst NAV_ITEMS = [\r\n  { href: \"/\", label: \"Home\" },\r\n  { href: \"/about\", label: \"About\" },\r\n  { href: \"/escape-room\", label: \"Escape Room\" },\r\n  { href: \"/coding-races\", label: \"Coding Races\" },\r\n  { href: \"/court-room\", label: \"Court Room\" },\r\n];\r\n\r\ntype ThemeOption = \"light\" | \"dark\";\r\n\r\nconst THEME_COOKIE = \"siteTheme\";\r\nconst NAV_COOKIE = \"activeNav\";\r\n\r\nfunction getCookie(name: string) {\r\n  if (typeof document === \"undefined\") return null;\r\n  const cookies = document.cookie.split(\"; \");\r\n  for (const cookie of cookies) {\r\n    if (!cookie) continue;\r\n    const [cookieName, ...rest] = cookie.split(\"=\");\r\n    if (cookieName === name) {\r\n      return decodeURIComponent(rest.join(\"=\"));\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction setCookie(name: string, value: string, maxAgeDays: number) {\r\n  if (typeof document === \"undefined\") return;\r\n  const maxAgeSeconds = Math.max(1, Math.round(maxAgeDays * 24 * 60 * 60));\r\n  document.cookie = `${name}=${encodeURIComponent(value)}; path=/; max-age=${maxAgeSeconds}; SameSite=Lax`;\r\n}\r\n\r\nfunction applyTheme(theme: ThemeOption) {\r\n  if (typeof document === \"undefined\") return;\r\n  const root = document.documentElement;\r\n  root.dataset.theme = theme;\r\n  root.style.colorScheme = theme;\r\n}\r\n\r\nexport default function SiteShell({ children }: { children: ReactNode }) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [theme, setTheme] = useState<ThemeOption>(\"light\");\r\n  const navRef = useRef<HTMLElement | null>(null);\r\n  const menuButtonRef = useRef<HTMLButtonElement | null>(null);\r\n  const formattedDate = useMemo(\r\n    () =>\r\n      new Intl.DateTimeFormat(\"en-AU\", {\r\n        day: \"numeric\",\r\n        month: \"long\",\r\n        year: \"numeric\",\r\n      }).format(new Date()),\r\n    []\r\n  );\r\n  const hasCheckedNavRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const storedTheme = getCookie(THEME_COOKIE);\r\n    if (storedTheme === \"light\" || storedTheme === \"dark\") {\r\n      setTheme(storedTheme);\r\n      applyTheme(storedTheme);\r\n      return;\r\n    }\r\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n    const initialTheme: ThemeOption = prefersDark ? \"dark\" : \"light\";\r\n    setTheme(initialTheme);\r\n    applyTheme(initialTheme);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!pathname || typeof document === \"undefined\") return;\r\n    if (!hasCheckedNavRef.current) {\r\n      hasCheckedNavRef.current = true;\r\n      const storedNav = getCookie(NAV_COOKIE);\r\n      if (pathname === \"/\" && storedNav && storedNav !== pathname) {\r\n        router.replace(storedNav as string);\r\n        return;\r\n      }\r\n    }\r\n    setCookie(NAV_COOKIE, pathname, 30);\r\n    setMenuOpen(false);\r\n  }, [pathname, router]);\r\n\r\n  useEffect(() => {\r\n    applyTheme(theme);\r\n    setCookie(THEME_COOKIE, theme, 180);\r\n  }, [theme]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\r\n  };\r\n\r\n  const currentThemeLabel =\r\n    theme === \"light\" ? \"Switch to dark theme\" : \"Switch to light theme\";\r\n\r\n  useEffect(() => {\r\n    if (!menuOpen) return;\r\n\r\n    const handlePointerDown = (event: PointerEvent) => {\r\n      const target = event.target as Node;\r\n      if (!target) return;\r\n      const nav = navRef.current;\r\n      const button = menuButtonRef.current;\r\n      if (nav && nav.contains(target)) return;\r\n      if (button && button.contains(target)) return;\r\n      setMenuOpen(false);\r\n    };\r\n\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === \"Escape\") {\r\n        setMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"pointerdown\", handlePointerDown);\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"pointerdown\", handlePointerDown);\r\n      document.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, [menuOpen]);\r\n\r\n  return (\r\n    <div className=\"site-shell\">\r\n      <a className=\"skip-link\" href=\"#main\">\r\n        Skip to main content\r\n      </a>\r\n      <header className=\"site-header\">\r\n        <div className=\"header-left\">\r\n          <span className=\"student-number\" aria-label=\"Student number\">\r\n            {PERSONAL_INFO.studentNumber}\r\n          </span>\r\n          <Link className=\"site-title\" href=\"/\">\r\n            Interactive Activity Builder\r\n          </Link>\r\n        </div>\r\n        <div className=\"header-actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"theme-toggle\"\r\n            onClick={toggleTheme}\r\n            aria-pressed={theme === \"dark\"}\r\n            aria-label={currentThemeLabel}\r\n          >\r\n            {theme === \"dark\" ? \"â˜€\" : \"ðŸŒ™\"}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"menu-toggle\"\r\n            ref={menuButtonRef}\r\n            onClick={() => setMenuOpen((open) => !open)}\r\n            aria-expanded={menuOpen}\r\n            aria-controls=\"primary-navigation\"\r\n          >\r\n            <span className=\"sr-only\">Toggle navigation menu</span>\r\n            <span aria-hidden=\"true\">â˜°</span>\r\n          </button>\r\n        </div>\r\n        <nav\r\n          id=\"primary-navigation\"\r\n          className={`site-nav${menuOpen ? \" open\" : \"\"}`}\r\n          aria-label=\"Main navigation\"\r\n          ref={navRef}\r\n          aria-hidden={menuOpen ? undefined : true}\r\n        >\r\n          <ul>\r\n            {NAV_ITEMS.map((item) => {\r\n              const isActive = pathname === item.href;\r\n              return (\r\n                <li key={item.href}>\r\n                  <Link\r\n                    href={item.href}\r\n                    className={isActive ? \"nav-link active\" : \"nav-link\"}\r\n                    aria-current={isActive ? \"page\" : undefined}\r\n                  >\r\n                    {item.label}\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n      <main id=\"main\" className=\"site-main\" tabIndex={-1}>\r\n        {children}\r\n      </main>\r\n      <footer className=\"site-footer\">\r\n        <p>\r\n          <strong>{PERSONAL_INFO.name}</strong> Â· {PERSONAL_INFO.studentNumber} Â· {formattedDate}\r\n        </p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}